(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),o=a(6),n=a.n(o),l=(a(9),a(1)),h=a(2),p=a(4),r=a(3),d=a(5),c=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(r.a)(t).call(this,e))).handleMouseDown=function(e){console.log("mousedown"),a.setState({isMouseDown:!0}),e.stopPropagation(),e.preventDefault()},a.handleMouseUp=function(e){a.setState({isMouseDown:!1}),e.stopPropagation(),e.preventDefault()},a.handleMouseMove=function(e){if(!0===a.state.isMouseDown){console.log("mousemove");var t=e.pageY-a.state.paddleLoc.y+a.props.span,s=e.pageY+t;a.setState({paddleLoc:{x:3,y:s/a.props.index}})}e.stopPropagation(),e.preventDefault()},a.state={paddleLoc:{x:a.props.value.x,y:a.props.value.y},isMouseDown:!1},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{key:this.props.id,className:"paddle",style:{top:this.props.value.y*this.props.index+"px",left:this.props.value.x*this.props.index+11+"px",width:this.props.itemprop.width*this.props.index+"px",height:this.props.itemprop.height*this.props.index+"px"}})}}]),t}(i.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{key:"2",className:"ball",style:{left:this.props.value.x*this.props.index+15+"px",top:this.props.value.y*this.props.index+"px",width:this.props.itemprop.width*this.props.index+"px",height:this.props.itemprop.height*this.props.index+"px"}})}}]),t}(i.a.Component),u=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"scoreboard"},i.a.createElement("div",{key:"score1",className:"board-num one",style:{left:35*this.props.index-21+"px"}},this.props.value.playerS),i.a.createElement("div",{key:"score2",className:"board-num two",style:{left:105*this.props.index-21+"px"}},this.props.value.enemyS))}}]),t}(i.a.Component),m=a(7),w=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(p.a)(this,Object(r.a)(t).call(this,e))).nextFrame=function(){var e=a.state.maxX,t=a.state.paddleDims,s=a.state.ballDims,i=a.state.playerLoc,o={x:i.x,y:i.y+a.state.playerV},n={x:a.state.enemyLoc.x,y:a.state.enemyLoc.y},l=n,h=a.state.ballLoc.x,p=a.state.ballLoc.y,r={x:0,y:0},d={x:a.state.ballVel.x,y:a.state.ballVel.y},c={x:d.x,y:d.y},y=a.state.ballLoc.y+s.height/2,u=n.y+t.height/2,m=t.height+s.height,w=.5*e,x=e-100;if(y-u<-1&&h>=w&&"enemy"!==a.state.lastHit?l.y-=y-u<-3?.5/x*(h-w)+.7:.4:y-u>1&&h>=w&&"enemy"!==a.state.lastHit&&(l.y+=y-u>3?.5/x*(h-w)+.7:.4),o.y<.5?o.y=.5:o.y>99.5-t.height&&(o.y=99.5-t.height),l.y<.5?l.y=.5:l.y>99.5-t.height&&(l.y=99.5-t.height),h<=0||h+s.width>=140){r.x=70-s.height/2,r.y=50-s.width/2;var v=120-60*Math.random();c={x:1.8*Math.sin(Math.PI/180*v),y:1.8*Math.cos(Math.PI/180*v)};var g=a.state.score.playerS,f=a.state.score.enemyS;h<=0?f++:g++,a.setState({lastHit:"",score:{playerS:g,enemyS:f}})}else if("player"!==a.state.lastHit&&h<=i.x+t.width&&h>=i.x-.5&&p+s.height>=i.y&&p<=i.y+t.height){var M=((y-i.y)*(100/m)+45)*Math.PI/180;c.x=1.8*Math.sin(M),c.y=1.8*-Math.cos(M),r={x:h+c.x,y:p+c.y},a.setState({lastHit:"player",wallHit:""})}else if("enemy"!==a.state.lastHit&&h+s.width>=n.x&&h<=n.x+t.width&&p+s.height>=n.y&&p<=n.y+t.height){var b=((y-n.y)*(100/m)+45)*Math.PI/180;c.x=1.8*-Math.sin(b),c.y=1.8*-Math.cos(b),r={x:h+c.x,y:p+c.y},a.setState({lastHit:"enemy",wallHit:""})}else p<=0&&"top"!==a.state.wallHit||p>=100-s.height&&"bottom"!==a.state.wallHit?(r={x:h+(c={x:d.x,y:-d.y}).x,y:p+c.y},p<=0?a.setState({wallHit:"top"}):a.setState({wallHit:"bottom"})):r={x:h+(c=d).x,y:p+c.y};a.setState({playerLoc:o,enemyLoc:l,ballLoc:r,ballVel:c,viewTop:(document.documentElement.clientHeight-a.state.viewHeight)/2,viewLeft:(document.documentElement.clientWidth-a.state.viewWidth)/2})},a.componentDidMount=function(){a.intervalId=setInterval(a.nextFrame,1e3/60)},a.handleKeyDown=function(e){38===e.keyCode||"w"===e.key?a.setState({playerV:-1}):40!==e.keyCode&&"s"!==e.key||a.setState({playerV:1})},a.handleKeyUp=function(e){38===e.keyCode||"w"===e.key?a.setState({playerV:0}):40!==e.keyCode&&"s"!==e.key||a.setState({playerV:0})},a.handleMouseDown=function(e){e.clientY>=a.state.viewTop+a.state.playerLoc.y*a.state.dR&&e.clientY<=a.state.viewTop+(a.state.playerLoc.y+a.state.paddleDims.height)*a.state.dR&&e.clientX>=a.state.viewLeft+(a.state.playerLoc.x-1)*a.state.dR&&e.clientX<=a.state.viewLeft+(a.state.playerLoc.x+a.state.paddleDims.width+1)*a.state.dR&&(console.log("mousedown"),a.setState({isMouseDown:!0}))},a.handleMouseUp=function(e){console.log("mouseup"),a.setState({isMouseDown:!1})},a.handleMouseMove=function(e){if(!0===a.state.isMouseDown){var t=a.state.paddleDims.height/2*a.state.dR,s=(e.clientY-t-a.state.viewTop)/a.state.dR;s<.5?s=.5:s>99.5-a.state.paddleDims.height&&(s=99.5-a.state.paddleDims.height),a.setState({playerLoc:{x:2,y:s}})}e.stopPropagation(),e.preventDefault()},a.handleClickOutside=function(e){if(!0===a.state.isMouseDown){var t=a.state.paddleDims.height/2*a.state.dR,s=(e.clientY-t-a.state.viewTop)/a.state.dR;s<.5?s=.5:s>99.5-a.state.paddleDims.height&&(s=99.5-a.state.paddleDims.height),a.setState({playerLoc:{x:2,y:s}})}e.stopPropagation(),e.preventDefault()};var s=document.documentElement.clientWidth,i=document.documentElement.clientHeight,o=840,n=600,h=(s-o)/2,d=(i-n)/2,c={height:14,width:1.5},y={height:2,width:2},u=n/100,m=115-65*Math.random(),w={x:1.8*Math.sin(Math.PI/180*m),y:1.8*Math.cos(Math.PI/180*m)};return h=(s-(o=336))/2,d=(i-(n=240))/2,u=n/100,c={height:20,width:3},y={height:3,width:3},a.state={playerLoc:{x:2,y:50-c.height/2},enemyLoc:{x:140-c.width-2,y:50-c.height/2},ballLoc:{x:70-y.height/2,y:50-y.width/2},playerV:0,ballVel:w,score:{playerS:0,enemyS:0},lastHit:"",wallHit:"",isMouseDown:!1,viewWidth:o,viewHeight:n,maxX:140,viewLeft:h,viewTop:d,paddleDims:c,ballDims:y,dR:u},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return i.a.createElement("div",{className:"viewport",tabIndex:"0",style:{width:this.state.viewWidth,height:this.state.viewHeight,top:this.state.viewTop,left:this.state.viewLeft},onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onTouchStart:this.handleMouseDown,onTouchEnd:this.handleMouseUp,onTouchMove:this.handleMouseMove},i.a.createElement(y,{value:this.state.ballLoc,itemprop:this.state.ballDims,index:this.state.dR}),i.a.createElement(c,{id:"player",value:this.state.playerLoc,itemprop:this.state.paddleDims,index:this.state.dR,span:this.state.viewTop}),i.a.createElement(c,{id:"enemy",value:this.state.enemyLoc,itemprop:this.state.paddleDims,index:this.state.dR}),i.a.createElement(u,{value:this.state.score,index:this.state.dR}))}}]),t}(i.a.Component),x=Object(m.a)(w);n.a.render(i.a.createElement(x,null),document.getElementById("root"))},9:function(e,t,a){}},[[10,2,1]]]);
//# sourceMappingURL=main.c3e1a688.chunk.js.map